<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>K2GB IA V2.0</title>
    <style>
        body { background: #000; color: #00f2ff; font-family: sans-serif; text-align: center; padding-top: 50px; }
        .box { border: 2px solid #00f2ff; padding: 20px; display: inline-block; border-radius: 15px; background: #111; }
        input { padding: 10px; border-radius: 5px; border: none; width: 250px; }
        button { padding: 10px 20px; background: #00f2ff; color: #000; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        #output { margin-top: 20px; color: white; white-space: pre-wrap; text-align: left; max-width: 400px; }
    </style>
</head>
<body>
    <div class="box">
        <h1>K2GB IA (Version 2.0)</h1>
        <p>Si tu vois "Version 2.0", le site est à jour.</p>
        <input type="text" id="niche" placeholder="Ta niche...">
        <button onclick="lancerIA()">GÉNÉRER</button>
        <div id="output"></div>
    </div>

<script>
    async function lancerIA() {
        const niche = document.getElementById('niche').value;
        const output = document.getElementById('output');
        const API_KEY = "AIzaSyBgi3bizPYDaI8iTRRnGHJvj9wEGS8OhRo";
        
        output.innerText = "L'IA réfléchit...";

        try {
            // URL FORCÉE EN V1 AVEC GEMINI PRO
            const url = `https://generativelanguage.googleapis.com/v1/models/gemini-1.5-pro:generateContent?key=${API_KEY}`;
            
            const response = await fetch(url, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: "Donne un titre viral TikTok pour : " + niche }] }]
                })
            });

            const data = await response.json();
            
            if (data.candidates) {
                output.innerText = data.candidates[0].content.parts[0].text;
            } else {
                output.innerText = "Erreur : " + JSON.stringify(data.error);
            }
        } catch (e) {
            output.innerText = "Erreur réseau : " + e.message;
        }
    }
</script>
</body>
</html>
